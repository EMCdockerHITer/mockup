<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contributor - Plone Mockup(s)</title>
  <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
<link href="//netdna.bootstrapcdn.com/font-awesome/3.1.1/css/font-awesome.css" rel="stylesheet">
  <link href="jam/SyntaxHighlighter/styles/shCore.css" rel="stylesheet" type="text/css" />
  <link href="less/shThemeGitHub.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet/less" type="text/css" href="less/mockup.less" />
  <link rel="stylesheet/less" type="text/css" href="less/widgets.less" />
<script src="jam/less/dist/less-1.3.3.js"></script>
  <script src="jam/jquery/dist/jquery.js"></script>
  <script src="jam/require.js"></script>
  <script src="js/demo/widgets.js"></script>
</head>

<body>

  <header>
    <div class="container">
      <div id="portal-logo">
        <span class="plone-logo">
          <span class="plone-logo-circle">
            <span class="plone-circle-inner">
              <span class="plone-dot-1"></span>
              <span class="plone-dot-2"></span>
              <span class="plone-dot-3"></span>
            </span>
          </span>
          <span class="plone-text">Plone</span>
        </span>
        Mockup(s)
      </div>
    </div>
  </header>

  <div class="container">
  <div id="nav">
      <ul>
          <li><a href="index.html"><i class="icon-home"></i> Home</a></li>
          <li><a href="ploneUser.html"><i class="icon-eye-open"></i> User</a></li>
          <li><a href="ploneCreator.html"><i class="icon-cogs"></i> Creator</a></li>
          <li><a href="ploneContributor.html"><i class="icon-globe selected"></i> Contributor</a></li>
      </ul>
  </div>
    <div id="content" data-panel="content">
      <!-- EDITORS' NOTE
           In this file we are using "semantic line breaks".
           See this blog post
           http://rhodesmill.org/brandon/2012/one-sentence-per-line/
           in order to learn about it and its many advantages -->
  <h1><i class="icon-globe"></i> Contributor</h1>
      <div class="row">
        <div>
          <div>
            <h1>Use it now!</h1>
            <p>
              The only requirements to bootstrap <em>Plone mockup</em>
              are <a href="http://nodejs.org/">nodejs</a>, <a href="http://git-scm.org/" title="git">git</a>
              and <a href="http://www.nodejs.org/" title="npm">
                <abbr title="Node package manager">npm</abbr>
              </a>.
            </p>
            <p>Then check out the repository from GitHub:</p>
            <pre class="brush: bash;toolbar: false;">
              git clone git://github.com/plone/mockup.git</pre>
            <p>And bootstrap your environment:</p>
            <pre class="brush: bash;toolbar: false;">
              cd mockup
              make bootstrap</pre>

            <!--p>Until Patterns is under heavy development.</p>
                <pre class="brush: bash;toolbar: false;">
                  cd mockup
                  mkdir ext
                  cd ext
                  git clone git://github.com/Patternslib/Patterns.git
                  cd ..
                  ./node_modules/jamjs/bin/jam.js link ext/Patterns</pre-->

            <p>To build all bundles just do:</p>
            <pre class="brush: bash;toolbar: false;">make</pre>

            <p>And you can run tests with:</p>
            <pre class="brush: bash;toolbar: false;">make test</pre>
            <p>
              Right now tests are
              <img src="https://travis-ci.org/plone/mockup.png?branch=master"
                   alt="Build Status" />.</p>
          </div>
        </div>
              <p>
        um dolor sit amet chuck salami meatball prosciutto pig bresaola tri-tip corned beef brisket sirloin tenderloin meatloaf pork chop shoulder ham hock. Jowl ground round bresaola sausage filet mignon fatback boudin pork loin pancetta pork chop short ribs. Beef ribs meatloaf brisket, shankle spare ribs turducken jerky pancetta short ribs. Ham drumstick cow andouille t-bone boudin fatback tenderloin venison pork chop capicola kielbasa swine spare ribs bresaola. Meatball boudin strip steak pig short ribs.

Prosciutto sirloin shankle meatloaf. Venison beef ribs ribeye pastrami, pork loin prosciutto salami bacon fatback ham hock rump chuc
      </p>
      </div>
      

<div class="pat-autotoc"
     data-pat-autotoc="scrollDuration:slow;
                       levels:h1,h2;">
      <h1>Bundles</h1>
      <p>TODO</p>
      <p>
        Current CMFPlone ECMA scripts status:
        <a href="https://docs.google.com/spreadsheet/ccc?key=0AiJ1qTbr6NdMdDMzNVVqZ1ZIOGFZWHZDV1BPWnM4OEE#gid=0">
          Google doc for keeping track of current status of CMFPlone/ecma_scripts stuff
        </a>
      </p>

      <h1 id="patterns">Patterns</h1>
      <p>
        Patterns
        are a set of conventions to configure interaction via markup.
        If you have developed some Javascript interaction
        (for example, a dropdown menu)
        it's quite likely that
        you've <em>already used the basic concept behind patterns</em>.
      </p>
      <p>
        Basically, almost every <em>jQuery</em> plugin
        expects a certain kind of markup to be present,
        and then expects you to initialize the widget
        by picking out the root element of the widget
        and pass some options to it.
        For example you might have this very basic markup
        for a datetime widget:
      </p>
      <pre class="brush: html; toolbar: false;">
&lt;input id="foo" /&gt;
</pre>
      <p>
        And then you are expected to call some Javascript to initialize it
        (and set options):
      </p>
      <pre class="brush: javascript; toolbar: false;">
$('#foo').datetime({
  format: 'mmmm d, yyyy',
  formatSubmit: 'yyyy-mm-dd'
});</pre>
      <p>
        Then you might find it a little bit tedious
        to call that Javascript for every date widget that's there,
        so you mark all the <code>&lt;input /&gt;</code> tags
        that you want to turn into datepickers with a specific CSS class,
        and call that line of code just once when the DOM is loaded.
      </p>
      <pre class="brush: html; toolbar: false;">
&lt;input id="date-picker-1" class="date-picker" /&gt;
&lt;input id="date-picker-2" class="date-picker" /&gt;
</pre>
      <pre id="initialization-a-la-jquery"
           class="brush: javascript; toolbar: false;">
$(document).ready(function() {
  $('input.date-picker').datetime({
    format: 'mmmm d, yyyy',
    formatSubmit: 'yyyy-mm-dd'
  });
});</pre>
      <p>
        If you got at this stage already in your Javascript code,
        <strong>you are already using the basic idea behind patterns</strong>.
      </p>
      <h3>Why is Patterns better than this?</h3>
      <p>
        Patterns has of course more to offer than just this basic approach:
        automatic binding (and re-binding after reloads),
        taking the options from the DOM via <code>data-pat-*</code> attributes,
        and a unified, coherent approach.
      </p>
      <h3>
        Is this related to
        <a href="http://patternslib.com" title="Patternslib">Patternslib</a>?
      </h3>
      <dl>
        <dt>TL;DR</dt>
        <dd>Yes. But we provide a different set of interactions.</dd>
        <dt>Long story kept long</dt>
        <dd>TODO</dd>
      </dl>
      <h3>Automatic binding</h3>
      <p>
        Automatic binding relieves us of the problem
        of initializing a widget from the markup.
        In our initial example,
        we actually had to
        <a href="#initialization-a-la-jquery"
           title="Manual binding">manually bind the initialization routine</a>
        to the page loading
        (therefore, when the page is loaded,
        all the elements marked as <em>interactive widgets</em>
        will be initialized).
        This works fine as long as we don't start replacing parts of the DOM
        with HTML coming from the backend or, say, Javascript templates.
      </p>
      <p>
        If we start doing that,
        and especially if the replaced parts of the DOM
        contains one or more <em>interactive widgets</em>,
        we have to rebind them all,
        which is quite a tedious thing to code.
      </p>
      <p>
        Patterns instead, will automatically initialize,
        upon page loading,
        all the <em>interactive widgets</em> it find in the document,
        and you can also tell it to rebind all the widgets it finds
        in a particular section of the page,
        when for example we have replaced the content of that section:
      </p>
      <pre class="brush: javascript; toolbar: false;">
define([
  'jquery',
  'js/patterns/base',
  'jam/Patterns/src/registry'
], function($, Base, registry, undefined) {
  // Stuff etc
  var rerender($element) {
      $element.load(
          'http://example.com/my-html',
          function(response.status, request) {
              // Rebinds every pattern found in the AJAX-loaded HTML
              registry.scan($element);
          }
      );
  }
});</pre>
      <p>
        This is a <strong>great improvement over the "manual" way</strong>,
        where rebinding could take tens of lines of code
        or even more for complex examples:
        here, we're down to one line
        <em>that will always work even if we have no idea of which widgets</em>
        will get in.
      </p>
      <h3>Pattern options</h3>
      <p>
        Patterns can take options in two ways:
        from the DOM or via the jQuery interface.
        It is highly recommended to use the DOM interface,
        since it offers a lot more flexibility compared to the jQuery approach.
        Also,
        if we wish to use the automatic binding and rebinding functionality,
        the DOM approach is more straightforward and hassle-free.
      </p>
      <p>
        If we put options in the DOM,
        we have to use HTML5 data attributes.
        It's not necessary to put the options directly on the root node
        of the widget
        (the one with the <code>pat-*</code> class),
        since Patterns will also scan all the parents of that node
        from the bottom upwards,
        so we can for example put the options just once
        on the <code>&lt;body /&gt;</code> tag
        and have all the widgets use the same set of options:
      </p>
      <pre class="brush: html; toolbar: false;">
&lt;body data-pat-datetime-format="d-mmmm-yyyy@HH:MM"
      data-pat-datetime-ampm="true"
      data-pat-datetime-pickadateMonthSelector="false"&gt;
  &lt;!-- Both widgets use the same options --&gt;
  &lt;input class="pat-datetime" /&gt;
  &lt;input class="pat-datetime" /&gt;
&lt;body&gt;</pre>
      <p>
        But if we need to override some options for a certain widget
        (or an entire DOM section)
        we can just put it on the node
        or on whatever DOM element wraps the section:
      </p>
      <pre class="brush: html; toolbar: false;">
&lt;body data-pat-datetime-format="d-mmmm-yyyy@HH:MM"
      data-pat-datetime-ampm="true"&gt;
  &lt;input class="pat-datetime" /&gt;  &lt;!-- There's a month dropdown here --&gt;
  &lt;div data-pat-datetime-pickadateMonthSelector="false"&gt;
    &lt;input class="pat-datetime" /&gt; &lt;!-- but no month dropdown here! --&gt;
    &lt;input class="pat-datetime" /&gt; &lt;!-- And here as well --&gt;
  &lt;/div&gt;
&lt;body&gt;</pre>
      <h3>jQuery interface</h3>
      <p>
        Patterns can also be used as a <em>jQuery</em> plugin,
        passing options as with any other jQuery plugin:
      </p>
      <pre class="brush: javascript; toolbar: false;">
$('.pat-datetime').patternDatetime({
  pickadateYearSelector: true
});</pre>
      <p>
        In this case the options passed to the jQuery function
        will take precedence over the ones defined in the DOM,
        although the parents will still be scanned
        and the options defined there will be picked up
        if they are not overridden in the jQuery call:
      </p>
      <pre class="brush: javascript; toolbar: false;">
{
  showAMPM: true,
  format: "d-mmmm-yyyy@HH:MM",
  pickadateMonthSelector: false,
  pickadateYearSelector: true
}</pre>

      <h2 id="make-a-pattern">Making a pattern</h2>
      <p>TODO</p>

      <h2>Testing the pattern</h2>
      <p>TODO</p>
      <p>&nbsp;</p>
</div>
    </div>
    
    <div class="clear"></div>
<div class="importantButton"><a href="pattern-index.html"><i class="icon-exclamation-sign"></i> Just show me the pattern index already!</a></div>


  </div>

  <footer>
    <div class="container">
      <p>Plone<sup>&reg;</sup> and the Plone logo are registered trademarks of
        the Plone Foundation. You’re looking good today.</p>
    </div>
  </footer>

  <script type="text/javascript">
     SyntaxHighlighter.all()
  </script>
</body>

</html>


