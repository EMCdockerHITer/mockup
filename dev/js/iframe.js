define(["jquery"],function(a,b){"use strict";return a.IFrame=function(a){this._init(a)},a.IFrame.prototype={_init:function(b){var c=this;c._iframe=b,c.$el=a(b.el),c.window=window.parent,c.document=window.parent.document,c.is_stretched=!1,a(document).on("click",function(b){if(a.nodeName(b.target,"a")||1===a(b.target).parents("a").size()){b.stopPropagation(),b.preventDefault();var d=a(b.target).attr("href");a.nodeName(b.target,"a")||(d=a(b.target).parents("a").attr("href")),1===b.which?c._same_window(d):2===b.which&&c._new_window(d)}else a.nodeName(b.target,"html")?c.shrink():c.$el.trigger("click.iframe",b)}),c.fit(),a(window).on("resize",function(){c.fit()})},_same_window:function(a){this.window.location.href=a},_new_window:function(a){this.window.open(a)},shrink:function(){var a=this;a.is_stretched&&(a.$el.trigger("shrink.iframe"),a.is_stretched=!1,a.fit(),a.$el.trigger("shrinked.iframe"))},stretch:function(){var b=this;b.is_stretched||(b.$el.trigger("stretch.iframe"),b.is_stretched=!0,b.$el.css({height:a(b.document).height()}),b.$el.trigger("stretched.iframe"))},toggle:function(){var a=this;a.is_stretched?a.shrink():a.stretch()},fit:function(){var b=this;b.is_stretched?b.$el.css({height:a(b.document).height()}):(b.$el.css({height:a("body",document).height()}),a("body",b.document).css("margin-top",a("body",document).height()))}},window.parent.iframe!==b&&window.name&&window.parent.iframe[window.name]!==b&&(a.iframe=new a.IFrame(window.parent.iframe[window.name])),a.iframe});