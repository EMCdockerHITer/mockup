define(["jquery","mockup-patterns-base","mockup-patterns-backdrop"],function(a,b,c){"use strict";var d=b.extend({name:"expose",defaults:{triggers:"focusin",classActiveName:"active",backdrop:"body",backdropZIndex:null,backdropOpacity:"0.8",backdropClassName:"backdrop",backdropClassActiveName:"backdrop-active",backdropCloseOnEsc:!0,backdropCloseOnClick:!0},init:function(){var b=this;b.backdrop=new c(b.$el.parents(b.options.backdrop),{zindex:b.options.backdropZIndex,className:b.options.backdropClassName,classActiveName:b.options.backdropClassActiveName,styles:b.options.backdropStyles,opacity:b.options.backdropOpacity,closeOnEsc:b.options.backdropCloseOnEsc,closeOnClick:b.options.backdropCloseOnClick}),b.options.triggers&&a.each(b.options.triggers.split(","),function(c,d){d=d.split(" "),a(d[1]||b.$el).on(d[0],function(){b.show()})}),b.backdrop.on("hidden",function(){b.hide()})},show:function(){var a=this;a.$el.hasClass(a.options.classActiveName)||(a.trigger("show"),a.$el.addClass(a.options.classActiveName),a.backdrop.show(),a._initialZIndex=a.$el.css("z-index"),a.$el.css("z-index",null!==a.options.backdropZIndex?a.options.backdropZIndex+1:1041),a.$el.css("opacity","0"),a.$el.animate({opacity:"1"},500),a.trigger("shown"))},hide:function(){var a=this;a.$el.hasClass(a.options.classActiveName)&&(a.trigger("hide"),a.backdrop.hide(),a.$el.css("z-index",a._initialZIndex),a.$el.removeClass(a.options.classActiveName),a.trigger("hidden"))}});return d});