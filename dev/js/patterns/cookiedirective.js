define(["jquery","mockup-patterns-base","jquery.cookie"],function(a,b){"use strict";var c=b.extend({name:"cookiedirective",defaults:{shouldEnable:!0,shouldEnableMsg:"You should enable cookies to be able to login.",shouldEnableSelector:".login",shouldAsk:!0,askPermissionMsg:"This site uses cookies to provide additional functionality, do you accept?",allowMsg:"Allow",denyMsg:"Deny",cookieName:"Allow_Cookies_For_Site"},cookiesEnabled:function(){return a.cookie("_cookiesEnabled",1),a.cookie("_cookiesEnabled")?(a.removeCookie("_cookiesEnabled"),!0):!1},acceptedCookies:function(){var b=a.cookie(this.options.cookieName);return void 0===b||null===b?void 0:1==b?!0:!1},acceptCookies:function(){a.cookie(this.options.cookieName,1)},denyCookies:function(){a.cookie(this.options.cookieName,0)},ensureBool:function(a){return"string"==typeof a?"true"===a?!0:!1:a},init:function(){var b=this;if(b.options.shouldAsk=b.ensureBool(b.options.shouldAsk),b.options.shouldAsk){var c=b.acceptedCookies();if(void 0===c){var d=a("<div></div>").addClass("cookiedirective"),e=a("<div><span>"+b.options.askPermissionMsg+"</span></div>").addClass("cookiemsg"),f=a("<div><span>"+b.options.allowMsg+"</span></div>").addClass("cookieallowbutton").addClass("btn").on("click",function(){b.acceptCookies(),b.$el.find(".cookiedirective").hide("slow")}),g=a("<div><span>"+b.options.denyMsg+"</span></div>").addClass("cookiedenybutton").addClass("btn").on("click",function(){b.denyCookies(),b.$el.find(".cookiedirective").hide("slow")});d.append(e).append(f).append(g),b.$el.prepend(d)}}if(b.options.shouldEnable=b.ensureBool(b.options.shouldEnable),b.options.shouldEnable&&b.$el.find(b.options.shouldEnableSelector).size()>0&&!b.cookiesEnabled()){var h=a("<div></div>").addClass("shouldenablecookies"),i=a("<div><span>"+b.options.shouldEnableMsg+"</span></div>").addClass("shouldenablecookiesmsg");h.append(i).append(i),b.$el.prepend(h)}}});return c});