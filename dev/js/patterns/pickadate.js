define(["jquery","mockup-patterns-base","picker","picker.date","picker.time"],function(a,b){"use strict";var c=b.extend({name:"pickadate",defaults:{separator:" ",date:{formatSubmit:"dd-mm-yyyy",selectYears:!0,selectMonths:!0},time:{formatSubmit:"HH:i"},klassWrapper:"pat-pickadate-wrapper",klassSeparator:"pat-pickadate-separator",klassDate:"pat-pickadate-date",klassDateWrapper:"pat-pickadate-date-wrapper",klassTime:"pat-pickadate-time",klassTimeWrapper:"pat-pickadate-time-wrapper",klassClear:"pat-pickadate-clear",placeholderDate:"enter date...",placeholderTime:"enter time..."},ensureBool:function(a){if("string"==typeof a){if("true"===a)return!0;if("false"===a)return!1}return a},init:function(){var b=this,c=b.options.date.onSet,d=b.options.time.onSet;b.$el.hide(),b.$wrapper=a("<div/>").addClass(b.options.klassWrapper).insertAfter(b.$el),b.options.date=b.ensureBool(b.options.date),b.options.time=b.ensureBool(b.options.time),b.options.date!==!1&&(b.$date=a('<input type="text"/>').addClass(b.options.klassDate).appendTo(a("<div/>").addClass(b.options.klassDateWrapper).appendTo(b.$wrapper)).pickadate(a.extend(!0,b.options.date,{onSet:function(){b.setDateTime(),c&&c.apply(this,arguments)},onStart:function(){this.$node.attr("placeholder",b.options.placeholderDate)}}))),b.options.date!==!1&&b.options.time!==!1&&(b.$separator=a("<span/>").addClass(b.options.klassSeparator).html(" "===b.options.separator?"&nbsp;":b.options.separator).appendTo(b.$wrapper)),b.options.time!==!1&&(b.$time=a('<input type="text"/>').addClass(b.options.klassTime).appendTo(a("<div/>").addClass(b.options.klassTimeWrapper).appendTo(b.$wrapper)).pickatime(a.extend(!0,b.options.time,{onSet:function(){b.setDateTime(),d&&d.apply(this,arguments)},onStart:function(){this.$node.attr("placeholder",b.options.placeholderTime)}}))),b.$clear=a("<div/>").addClass(b.options.klassClear).appendTo(b.$wrapper)},setDateTime:function(){var a=this,b="";a.$date&&(b+=a.$date.val()),a.$date&&a.$time&&(b+=a.options.separator),a.$time&&(b+=a.$time.val()),a.$el.attr("value",b)}});return c});